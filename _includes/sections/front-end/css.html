<!-- #### CSS SECTION #### -->
<section id="css">
    <div class="intro has-icon">
        <h1>CSS</h1>
        <p>Just as the information on a web page is semantically described in the <a href="#markup">HTML Markup</a>, CSS describes all presentation aspects of the page via a description of its visual properties. CSS is powerful in that these properties are mixed and matched via identifiers to control the page's layout and visual characteristics through the layering of style rules (the "cascade").</p>
    </div>
    <h3>General Coding Principles</h3>
    <ul>
        <li>Add CSS through external files, minimizing the number of files, if possible. It should always be in the HEAD of the document.</li>
        <li>Use the <code>link</code> tag to include, <a href="http://blog.amodernfable.com/2008/01/21/thoughts-on-linking-to-stylesheets/">never the @import.</a>
            <figure class="pre-code">Including a stylesheet</figure>
            <pre><code class="html">
&lt;link rel="stylesheet" type="text/css" href="myStylesheet.css" />
            </code></pre>
            <figure class="pre-code">Don't use inline styling</figure>
            <pre><code class="html">
&lt;p style="font-size: 12px; color: #FFFFFF">This is poor form, I say&lt;/p>
            </code></pre>
            </li>
        <li>Don't include styles inline in the document, either in a style tag or on the elements. It's harder to track down style rules.</li>
        <li>Use <a href="http://necolas.github.com/normalize.css/">normalize.css</a> to make rendering more consistent across browsers. <small>(Both H5BP and Bootstrap incorporate this).</small></li>
        <li>Styles should be applied with classes, using elements and IDs in selectors should be avoided. This makes the CSS more reusable and cuts down on specificity.</li>
        <li>Understand <a href="http://www.stuffandnonsense.co.uk/archives/css_specificity_wars.html">cascading and selector specificity</a>, but avoid relying on it.</li>
        <li>Keep selectors efficient and portable</li>
        <li><a href="https://github.com/csswizardry/CSS-Guidelines/#selectors">Avoid heavily location-based selectors</a></li>
    </ul>
    <h3>CSS Box Model</h3>
    <p>Intimate knowledge and understanding of the CSS and browser-based box model is necessary for conquering the fundamentals of CSS layouts.</p>
    <figure class="extra">
        <img src="{{ site.host }}/standards/static/img/box_model.png" alt="CSS Box Model" title="CSS Box Model" />
        <figcaption><small>3D CSS Box Model</small> diagram by <a href="http://hicksdesign.co.uk/boxmodel/">Jon Hicks</a>.</figcaption>
    </figure>
    <h3>CSS Validation</h3>
    <p>We typically don't use the <a href="http://jigsaw.w3.org/css-validator/">W3C validator</a>.</p>
    <h3>CSS Formatting</h3>
    <p>On all new projects we use hyphen delimited, lowercase selectors:</p>
    <pre><code class="css">
.thisIsBad {}
.this_is_also_bad {}
.this-is-correct {}
    </code></pre>
    <p>Single line CSS should be avoided because it's hard to diff in git.</p>
    <pre><code class="css">
/* incorrect */
.masthead { position: relative; max-width: 990px; margin: auto; }

/* correct */
.masthead {
    position: relative;
    max-width: 990px;
    margin: auto;
}
    </code></pre>
    <h3>Classes vs. IDs</h3>
    <p><a href="http://csswizardry.com/2011/09/when-using-ids-can-be-a-pain-in-the-class/">Do not use IDs in CSS <strong>at all</strong></a>.
        They can be used in your markup for JavaScript and fragment-identifiers but use only classes for styling. Classes come with the benefit
        of being reusable and they have a nice, low specificity.</p>
    <p>Chaining classes is <em>encouraged</em>, allowing for more modularity and reusability of components.</p>
    <pre><code class="html">
&lt;ul class="inline-list breadcrumb">
    &lt;li>Tier 1&lt;/li>
    &lt;li>Tier 2&lt;/li>
    &lt;li>Tier 3&lt;/li>
&lt;/ul>
    </code></pre>
    <h3>Naming Conventions for Selectors</h3>
    <p>It is always preferable to pick a class name, by the nature of <strong>what it is</strong> rather than by <strong>what it looks like</strong>. For instance, a class name of <code>big-blue-text</code> for a special note on a page is quite meaningless if it has been changed to have a small red text color. Using a more intelligent convention such as <code>note-text</code> is better because when the  visual style changes it still makes sense.</p>
    <h3>OOCSS</h3>
    <p>Instead of building dozens of unique components, try and spot repeated design patterns abstract them; build these skeletons as base 'objects' and then peg classes onto these to extend their styling for more unique circumstances.</p>
    <p>If you have to build a new component split it into structure and skin; build the structure of the component using very generic classes so that we can reuse that construct and then use more specific classes to skin it up and add design styles.</p>
    <p><b>More information:</b></p>
    <ul>
        <li><a href="http://www.stubbornella.org/content/2010/06/25/the-media-object-saves-hundreds-of-lines-of-code/">The media object saves hundreds of lines of code</a></li>
        <li><a href="http://csswizardry.com/2011/09/the-nav-abstraction/">The ‘nav’ abstraction</a></li>
    </ul>
    <h3>Selectors</h3>
    <p>The <a href="http://www.w3.org/TR/2009/PR-css3-selectors-20091215/">CSS Selectors Level 3</a> specification introduces a whole new set of <a href="http://www.w3.org/TR/css3-selectors/#selectors">CSS Selectors</a> that are extremely useful for better selection of elements.</p>
    <h4>Pseudo-classes</h4>
    <p><a href="http://www.w3.org/TR/css3-selectors/#pseudo-classes">Pseudo-classes</a> enable you to dynamically style content. Some pseudo-classes have existed since CSS1 (<code>:visited, :hover</code>, etc.) and CSS2 (<code>:first-child, :lang</code>). As of CSS3, 16 new pseudo-classes have been added to the list and are especially useful for styling dynamic content. <a href="http://www.smashingmagazine.com/2011/03/30/how-to-use-css3-pseudo-classes/">Learn how to use pseudo-classes in-depth</a>.</p>
    <h4>Combinators &amp; Attribute Selectors</h4>
    <p><a href="http://www.w3.org/TR/css3-selectors/#combinators">Combinators</a> provide shortcuts for selecting elements that are a descendant element, a child element, or an element's sibling.</p>
    <p><a href="http://www.w3.org/TR/css3-selectors/#attribute-selectors">Attribute Selectors</a> are great for finding elements that have a specific attribute and/or specific value. Knowledge of regular expressions helps with attribute selectors. </p>
<h4>Specificity</h4>
    <p>Browsers <a href="http://www.w3.org/TR/2009/PR-css3-selectors-20091215/">calculate a selector's specificity</a> to determine which CSS rule should apply. If two selectors apply to the same element, the one with the <strong>higher specificity wins</strong>.</p>
    <p>IDs have a higher specificity than attribute selectors do, and class selectors have higher specificity than any number of element selectors. It is important to understand specificity and the cascade, but by sticking to classes and limiting the amount of nesting we can simplify specificity and make CSS more reuseable.</p>
    <p>Using <code>!important</code> overrides all specificity no matter how high it is. Try to avoid using it for this reason.</p>
    <h3>Pixels vs. Ems</h3>
    <p>We use the <code>px</code> unit of measurement to define <code>font-size</code>, because it offers absolute control over text. Additionally, unit-less <code>line-height</code> is preferred because it does not inherit a percentage value of its parent element, but instead is based on a multiplier of the <code>font-size</code>.</p>
    <figure class="pre-code">Correct</figure>
    <pre><code class="css">
.selector {
    font-size: 13px;
    line-height: 1.5;  /*  13 * 1.5 = 19.5 ~ Rounds to 20px. */
}
    </code></pre>
    <figure class="pre-code">Incorrect</figure>
    <pre><code class="css">
/*  Equivalent to 13px font-size and 20px line-height, but only if the browser default text size is 16px. */
.selector {
    font-size: 0.813em;
    line-height: 1.25em;
}
    </code></pre>
    <h3>Internet Explorer Bugs</h3>
    <p>We use a mixture of <a href="http://paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/">conditional html tags</a> and <a href="http://mathiasbynens.be/notes/safe-css-hacks">safe CSS hacks</a> to tackle IE bugs.</p>
    <p>You can use the <code>.oldie</code> class to target IE8 and lower, and the same class with the <code>*</code> hack to target IE7 and lower.</p>
    <figure class="pre-code">Fixing IE</figure>
    <pre><code class="html">
&lt;!--[if lt IE 9]>&lt;html class="no-js oldie" lang="en">&lt;![endif]-->
&lt;!--[if gt IE 9]>&lt;!-->&lt;html class="no-js" lang="en">&lt;!--&lt;![endif]-->
    </code></pre>
    <pre><code class="css">
.box {
    float: left;
    margin-left: 20px;
}
.oldie .box {
    margin-left: 10px; /* targets IE8 and lower */
    *margin-left: 5px; /* targets IE7 and lower */
}
    </code></pre>
    <p>If you're using HTML5 (and the <a href="#h5bp">HTML5 Boilerplate</a>) we encourage the use of the <a href="http://www.modernizr.com/">Modernizer</a> JavaScript library and append the <code>no-js</code> class to the <coe>html</code> element.</p>
    <h4>Prevent Compatibility Mode</h4>
    <p>Sometimes <abbr title="Internet Explorer">IE</abbr> can have a mind of its own and will switch to compatibility mode without you knowing. Include the following in HTTP headers sent on responses containing html:</p>
    <pre><code class="http">
X-UA-Compatible: IE=edge,chrome=1
    </pre></code>
    <p>If using the H5BP please note that it includes this definition in the <code>&lt;head></code> section of the html, and will need to be removed as it will cause the <a href="https://github.com/h5bp/html5-boilerplate/issues/378">compatibility mode icon to appear</a> in IE when used with the<D-r> conditional html tags.</p>
<h3>Shorthand</h3>
    <p>In general, CSS shorthand is preferred because of its terseness.
    Developers should be aware of the <abbr title="Top Right Bottom Left">TRBL</abbr> acronym, denoting the order in which the sides of an element are defined, in a clock-wise manner: Top, Right, Bottom, Left. If <em>bottom</em> is undefined, it inherits its value from <em>top</em>. Likewise, if <em>left</em> is undefined, it inherits its value from <em>right</em>. If only the <em>top</em> value is defined, all sides inherit from that one declaration.</p>
    <p>In some situations shorthand is not appropriate. If you are overriding just one value, you should not repeat the other values.</p>
    <h3>Images</h3>
    <ul>
        <li>Images used for design features should be avoided where possible. CSS3 features like <code>border-radius</code>, <code>gradients</code> and <code>box-shadow</code> should be used wherever possible.</li>
        <li>For repeating images, use <a href="http://www.iandevlin.com/blog/2010/03/webdev/fading-issue-with-repeating-background-transparent-image-in-internet-explorer">something larger than 1x1 pixels</a></li>
        <li>You should never be using spacer images.</li>
        <li>Use <a href="#_leverage-css-sprites">CSS sprites generously</a>. They make hover states easy, improve page load time, and reduce carbon dioxide emissions.</li>
        <li>Typically, all images should be sliced with a transparent background (PNG8). All should be cropped tightly to the image boundaries.</li>
    </ul>
    <hr />
    <h3>General Text and Font Styling</h3>
    <h4>Headings</h4>
    <ul>
        <li>Define default styling for <code>h1-h6</code> headings including headings as links.</li>
        <li>Headings should show a hierarchy indicating different levels of importance from the top down starting with h1 having the largest font size.</li>
        <li>Just because two headlines share a font size and colour in a design does not mean they should be the same type of heading. Instead define classes with your heading definitions so that you can set the style of a title with a class:
        <pre><code class="css">
h1, .h1 {
    /* styles */
}
h2, .h2 {
    /* styles */
}
        </code></pre>
        </li>
    </ul>
    <!-- #### CSS3 SECTION #### -->
    <!--========================*\
     oh rly?    ya rly!  
       \ ___,    ___ /   _,_  no rly?
        {O,0}   {-.-}   {o,O} /
        |)__)   |)~(|   (~~(|
    -----"-"-----"-"-----"-"-----,_
    =========================== -->
    <h2>CSS3</h2>
    <p>Design elements should be produced with CSS3 wherever possible. Please try to avoid using images for design effects, as the extra HTTP requests will add weight to slow down page load.</p>
    <p>CSS3 layout features such as flexbox and css3 columns should generally be avoided because of our need to support legacy browsers. (This will change as the browser market changes over time)</p>
    <h3>Progressive enhancement</h3>
    <p>We can use tools such as <a href="http://modernizr.com/">Modernizr</a> to detect the cababilities of the browser and provide appropriate fallbacks or fix missing features with <a href="https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills">polyfills</a>. 
    Polyfills often come at a cost of page performance, using extra javascript and sometimes even flash. <strong>Use with caution</strong>.</p>
    <p><a href="http://dl.dropbox.com/u/228092/Factsheet-%20Where%20are%20my%20rounded%20corners.pdf">Where are my 
        rounded corners?</a> by <a href="http://boagworld.com">Paul Boag</a> explains in language tailored for clients, why pixel perfect designs and sites in older browsers are expensive and unnecessary.</p>
    <h3>Vendor prefixes</h3>
    <p>As CSS3 is still a working draft, many features have not been fully standaradised yet. This does not stop us from using them, it just means we have to be careful about implementation.</p>
    <p>To use these CSS3 features in as many browsers as possible we need to embrace vendor prefixes. The easiest way to make sure we are using up to date vendor prefixes is by using a generator.</p>
    <h4>Generators</h4>
    <ul>
        <li>For projects using <a href="http://lesscss.org/">Less</a>, <a href="http://twitter.github.com/bootstrap/less.html#mixins">Bootstrap's mixins.less</a> is a very good starting point containing many cross-browser CSS3 mixins.</li>
        <li>For vanilla CSS using <a href="http://css3please.com/">css3please.com</a> will save you time and help to avoid cross browser errors.</li>
    </ul>
    <!-- #### LESS SECTION #### -->
    <!--========================*\
     oh rly?    ya rly!  
       \ ___,    ___ /   _,_  no rly?
        {O,0}   {-.-}   {o,O} /
        |)__)   |)~(|   (~~(|
    -----"-"-----"-"-----"-"-----,_
    =========================== -->
    <h2>Less</h2>
    <p>We use <a href="http://lesscss.org/">Less</a> on larger projects to help manage CSS. We use Less over other CSS pre-processors because of it's compatibility with the Java eco-system.</p>
    <p>Less provides variables, mixins, nesting, operations, colour functions and <a href="http://lesscss.org/">more</a> with a very similar syntax to native CSS.</p>
    <p>When writing Less try to avoid using highly nested selectors, so that the rules can be easily reused elsewhere.</p>
    <!-- #### WEB TYPOGRAPHY SECTION #### -->
    <!--========================*\
     oh rly?    ya rly!  
       \ ___,    ___ /   _,_  no rly?
        {O,0}   {-.-}   {o,O} /
        |)__)   |)~(|   (~~(|
    -----"-"-----"-"-----"-"-----,_
    =========================== -->
    <h2>Web Typography</h2>
    <p>Listed here are some popular methods of embed custom fonts, list in the order of our preference for implementation.</p>
    <h3>@font-face</h3>
    <p>The <a href="http://www.w3.org/TR/2011/WD-css3-fonts-20110324/#font-face-rule">@font-face at-rule</a> allows you to define custom fonts. It was first defined in the CSS2 specification, but was removed from CSS2.1. Currently, it's a draft recommendation for CSS3.</p>
    <p>For now, when using <code>@font-face</code> it's recommended to declare the source for each font format. This is important if you want it to work in the largest number of browsers, though it is not a requirement for use.</p>
    <p class="normalize">The font formats included in the specification are:</p>
    <ul>
        <li><strong>woff</strong>: WOFF (Web Open Font Format)</li>
        <li><strong>ttf</strong>: TrueType</li>
        <li><strong>ttf</strong>, <strong>otf</strong>: OpenType</li>
        <li><strong>eot</strong>: Embedded OpenType</li>
        <li><strong>svg</strong>, <strong>svgz</strong>: SVG Font</li>
    </ul>
    <h4>Bulletproof @font-face</h4>
    <p>For full cross-browser compatibility use Fontsprings' new <a href="http://www.fontspring.com/blog/further-hardening-of-the-bulletproof-syntax">bulletproof @font-face syntax</a> (<em>latest version as of 2/21/11</em>).</p>
    <pre><code class="css">
@font-face {
    font-family: 'MyFontFamily';
    src: url('myfont-webfont.eot');                     /* IE9 Compat Modes */
    src: url('myfont-webfont.eot?iefix') format('eot'),    /* IE6-IE8 */
       url('myfont-webfont.woff') format('woff'),        /* Modern Browsers */
       url('myfont-webfont.ttf') format('truetype'),        /* Safari, Android, iOS */
       url('myfont-webfont.svg#svgFontName') format('svg'); /* Legacy iOS */
    font-weight: normal;
    font-style: italic;
    /* etc */
}
    </code></pre>
    <h4>Cross-Browser Compatibility</h4>
    <p>Safari, <abbr title="Internet Explorer version 6-9">IE 6-9</abbr>, <abbr title="Internet Explorer Compatibility Modes">IE 9 Compatibility Modes</abbr>, Firefox, Chrome, iOS, Android, Opera</p>
    <hr />
    <h4>Tips for @font-face</h4>
    <ul>
        <li>Use <a href="http://www.fontsquirrel.com/fontface/generator/">Font Squirrel's online <code>@font-face</code> generator</a> and inline the <code>@font-face</code> definitions in your own CSS.</li>
        <li>IE 6–8 will only accept a TrueType font packaged as an EOT.</li>
        <li>font-weight and font-style have different meanings within <code>@font-face</code>. 
            Declarations where <code>font-weight:bold;</code> means this is the bold version of this typeface, rather than apply bold to this text</li>
        <li><a href="http://paulirish.com/2010/font-face-gotchas/">@font-face gotchas</a></li>
    </ul>
    <strong>Pros</strong>
    <ul>
        <li>Easy to implement</li>
        <li>Large variety of APIs</li>
        <li>Customizable</li>
        <li>Easy to add to elements</li>
        <li>Nothing required besides CSS</li>
        <li>Is currently part of the working draft of CSS Fonts Module 3</li>
    </ul>
    <strong>Cons</strong>
    <ul>
        <li>Limited browser support if used improperly</li>
        <li>Some older versions of modern browsers (Chrome, Opera) don't always render well. Text can have rough edges. <em>**I have not been able to confirm whether this is still an issue now or not.</em></li>
    </ul>
    <hr />    
    <h3>Google WebFonts API &amp; Font Loader</h3>
    <p>There are two options available with <a href="https://code.google.com/apis/webfonts/">Google Webfonts</a>. Both options have their downsides of course but they can be just as good to use as <code>@font-face</code>, it all depends on a projects needs.</p>
    <h4>Webfonts API</h4>
    <p><a href="https://code.google.com/apis/webfonts/docs/getting_started.html">Google's Webfonts API</a> essentially does the same thing as <code>@font-face</code>, it just does all the hard work for you, providing wider browser support.The major drawback to this method is the very small font library it uses. To make it work all you need to do is include the stylesheet + the font name.</p>
    <pre><code class="html">
&lt;link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Font+Name">
    </code></pre>
    <p class="normalize">Then define a style for the selector you want to apply the font to:</p>
    <pre><code class="css">
.css-selector {
    font-family: 'Font Name', serif;
}
    </code></pre>
    <h3>Webfont Loader</h3>
    <p>Another option Google offers is the <a href="https://code.google.com/apis/webfonts/docs/webfont_loader.html">Webfont Loader</a> which is a JavaScript library that allows for more control than the font API does. You can also use multiple webfont providers like Typekit. To use it include the script in your page:</p>
    <pre><code class="html">
&lt;script>
    WebFontConfig = { google: { families: [ 'Tangerine', 'Cantarell' ]} };
    (function() {
        var wf = document.createElement('script');
        wf.src = ('https:' == document.location.protocol ? 'https' : 'http') + 
                  '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
        wf.type = 'text/javascript';
        wf.async = 'true';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(wf, s);
    })();
&lt;/script>
    </code></pre>
    <p class="normalize">Including the webfont.js file this way is faster if not already using the Ajax APIs. Otherwise you should use this:</p>
    <pre><code class="html">
&lt;script src="https://www.google.com/jsapi">&lt;/script>
&lt;script>
    google.load("webfont", "1");
    google.setOnLoadCallback(function() {
        WebFont.load({ google: { families: [ 'Tangerine', 'Cantarell' ]} });
    });
&lt;/script>
    </code></pre>
    <p>By using the Webfont Loader you have more ability to customize things including the use of more fonts, not just those in the Google Webfont library which is not large. However, it then requires you to load JavaScript, sacrificing one thing for another.</p>
    <strong>Pros</strong>
    <ul>
        <li>Very easy to implement</li>
        <li>Wide browser support</li>
        <li>Can be combined with Typekit</li>
        <li>Customizable when using the font loader</li>
        <li>API does the same thing as <code>@font-face</code></li>
    </ul>
    <strong>Cons</strong>
    <ul>
        <li>Very small font library if using the font API</li>
        <li>Using the Webfont Loader requires the use of JavaScript to work</li>
        <li>Most browsers will load the rest of the page first, leaving a blank space where the text would be, or otherwise show the fallback option if one exists, until the page fully loads.</li>
        <li>Some fonts in the webfont library render poorly on Windows</li>
    </ul>
    <hr />
    <h3>Typekit</h3>
    <p>Using <a href="https://typekit.com">Typekit</a> has its advantages and shouldn't be completely disregarded when choosing which method to use for adding custom fonts to a web site. It has strong platform integration and is a scalable and popular service. It can be used with Google Webfonts and is easily added to WordPress, Posterous, Typepad, and other similar CMS powered sites.</p>
    <p>However, full use of <a href="https://typekit.com/plans">Typekit doesn't come without a cost</a>. If you need to use it on more than 2 sites or on a site that gets a high amount of pageviews you will need to pay an annual cost of $49.99, and for sites with a million+ pageviews it costs twice as much. Though, you probably have the money to cover the cost if you're getting over a million pageviews. If not then you may want to rethink your business model.</p>
    <strong>Pros</strong>
    <ul>
        <li>Large font library, including Adobe fonts</li>
        <li>Easy implementation</li>
        <li>Google Webfont API and blogging platform integration</li>
        <li>Free plan has limits but doesn't expire</li>
    </ul>
    <strong>Cons</strong>
    <ul>
        <li>Requires JavaScript to use</li>
        <li>Limited font library access without paying</li>
        <li>Free and cheapest plans only allow use on 1-2 web sites and 2-5 fonts per site</li>
        <li>You have to pay to use it on more than 1 site</li>
    </ul>
    <hr />
    <h3>Font Licensing</h3>
    <p>Even though you can transform just about any font into a web font file, you should still make sure it is legally okay for you to do so. Many foundries have updated their conditions to specify how their fonts can be used on the web. View <a href="http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&item_id=UNESCO_Font_Lic">Font Licensing and Protection Details</a> for more information.</p>
    <hr />
</section>
